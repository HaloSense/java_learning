# Day 5

## 循环的高级控制

`continue`：跳过当前循环的剩余代码，直接开始执行下一循环。
`break`：停止并跳出循环。

## 数组

### 数据类型

数组可以存储同种类型的数据，存储时**会进行隐式转换**。
建议容器的类型和存储的数据类型保持一致。

### 初始化

按照阿里巴巴开发手册标准，声明数组时统一将方括号紧跟数据类型之后。

例：
```java
String[] array = {"string1", "123", "John"};
int[] array2 = {1, 3, 5};
```

### 长度

数组长度初始化后就不再变化。

### 地址值

E.g. `[D@f6f4d33`

- `[`：表示该地址是数组
- `D`：表示该地址数组存储类型为double
- `@`：表示间隔符号，“at”，即“位于”
- `f6f4d33`：数组在内存中真正的地址，以十六进制存储

### 数组遍历

IDEA的代码块补全可以快速补齐遍历数组的代码块：

```java
public class ArrayDemo {
    static void main(String[] args) {
        int[] arr = {1, 2, 3};
        // arr.fori
        // --"Tab"-->
        for (int i = 0; i < arr.length; i++) {
            // do something
        }
    }
}
```

### 注意事项

**在实际开发中，一个循环尽量只做一件事。**

### 数组动态初始化

在初始化时仅指定数组长度，由虚拟机填入默认值。

> ### 数据类型的“四类八种”
> 
> 整数型：`byte`, `short`, `int`, `long`
> 
> 小数类：`float`, `double`
> 
> 字符类：`char`
> 
> 布尔类：`boolean`

数组动态初始化时，不同数据类型的默认值如下：
- 整数类型：0
- 小数类型：0.0
- 字符类型：`\u0000`（空白字符）
- 布尔类型：`false`
- 引用数据类型：`null`

### 数组动态初始化和静态初始化的区别与应用思路

动态初始化：指定数组**长度**，由虚拟机自动计算填充值。
- 适用于确定数组长度，但不确定数组内容的情况

静态初始化：指定数组**内容**，由虚拟机自动计算数组长度。
- 适用于确定数组内容的情况

## Java内存分配

Java虚拟机的内存分为5部分：
1. 栈
2. 堆
3. 方法区
4. 本地方法栈
5. 寄存器

### 栈

栈是方法运行时使用的内存，比如`main`方法运行，就是进入方法栈中运行。

### 堆

存储对象或者数组。用new来创建的，都存储在堆空间。

### 方法区

临时存储可以运行的class文件。

注：在Java 7及之前，方法区是一个独立的区，但是在物理内存上连接在堆之后。
从Java 8开始，取消了方法区，改为了元空间，方法区的功能拆分给了堆和元空间。但是在这里仍然把这部分称为方法区。

### 本地方法栈

JVM在使用操作系统功能时会使用，与开发无关。

### 寄存器

CPU使用，与开发无关。

## 数组的内存空间

1. 数组是`new`出来的，在堆内存里占用一个空间
2. 每个数组都占用一个小空间，互不干扰
3. 当两个数组指向同一个地址时，对其中一个数组的元素进行了修改，那么另一个数组的元素也变化

```java
public class ArrayDemo3 {
    static void main() {
        int[] arr1 = {11, 22, 33};
        int[] arr2 = arr1;

        System.out.println(arr1[0]);    // 11
        System.out.println(arr2[0]);    // 11

        arr1[0] = 44;

        System.out.println(arr1[0]);    // 44
        System.out.println(arr2[0]);    // 44
    }
}
```

